{
  "definition": {
    "$schema": "https://schema.management.azure.com/providers/Microsoft.Logic/schemas/2016-06-01/workflowdefinition.json#",
    "contentVersion": "1.0.0.0",
    "parameters": {},
    "triggers": {
      "Recurrence": {
        "recurrence": {
          "frequency": "Day",
          "interval": 1,
          "startTime": "2024-01-01T06:00:00Z",
          "timeZone": "UTC"
        },
        "type": "Recurrence"
      }
    },
    "actions": {
      "Refresh_Executive_Dataset": {
        "runAfter": {},
        "type": "OpenApiConnection",
        "inputs": {
          "host": {
            "connectionName": "shared_powerbi",
            "operationId": "RefreshDataset",
            "apiId": "/providers/Microsoft.PowerApps/apis/shared_powerbi"
          },
          "parameters": {
            "workspace": "My workspace",
            "dataset": "Executive Performance Dataset"
          }
        }
      },
      "Refresh_Financial_Dataset": {
        "runAfter": {
          "Refresh_Executive_Dataset": [
            "Succeeded"
          ]
        },
        "type": "OpenApiConnection",
        "inputs": {
          "host": {
            "connectionName": "shared_powerbi",
            "operationId": "RefreshDataset",
            "apiId": "/providers/Microsoft.PowerApps/apis/shared_powerbi"
          },
          "parameters": {
            "workspace": "My workspace",
            "dataset": "Financial Intelligence Dataset"
          }
        }
      },
      "Refresh_Operational_Dataset": {
        "runAfter": {
          "Refresh_Financial_Dataset": [
            "Succeeded"
          ]
        },
        "type": "OpenApiConnection",
        "inputs": {
          "host": {
            "connectionName": "shared_powerbi",
            "operationId": "RefreshDataset",
            "apiId": "/providers/Microsoft.PowerApps/apis/shared_powerbi"
          },
          "parameters": {
            "workspace": "My workspace",
            "dataset": "Operational Excellence Dataset"
          }
        }
      },
      "Send_Refresh_Notification": {
        "runAfter": {
          "Refresh_Operational_Dataset": [
            "Succeeded"
          ]
        },
        "type": "OpenApiConnection",
        "inputs": {
          "host": {
            "connectionName": "shared_teams",
            "operationId": "PostMessageToChannel",
            "apiId": "/providers/Microsoft.PowerApps/apis/shared_teams"
          },
          "parameters": {
            "poster": "Flow bot",
            "location": "Channel",
            "team": "Fiverr Automation Hub",
            "channel": "System Alerts",
            "message": "\ud83d\udcca **Power BI Datasets Refreshed Successfully!**\n                                \n**Refresh Summary:**\n- Executive Performance Dataset: \u2705 Updated\n- Financial Intelligence Dataset: \u2705 Updated  \n- Operational Excellence Dataset: \u2705 Updated\n- Refresh completed at: @{formatDateTime(utcNow(), 'yyyy-MM-dd HH:mm:ss')}\n\n**Dashboard Status:**\n- All dashboards now showing latest data\n- Interactive features fully functional\n- Mobile access optimized and ready\n\n**Next Actions:**\n- Client dashboards automatically updated\n- Email notifications will be sent\n- Performance monitoring active\n\nGenerated by DataPro Analytics Power BI Automation System"
          }
        }
      }
    }
  }
}